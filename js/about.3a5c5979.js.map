{"version":3,"file":"js/about.3a5c5979.js","mappings":"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","sources":["webpack://test2/./src/views/AboutView.vue","webpack://test2/./src/components/CalculationAmountWithoutVuex.vue","webpack://test2/src/components/CalculationAmountWithoutVuex.vue","webpack://test2/./src/components/CalculationAmountWithoutVuex.vue?f83a","webpack://test2/./src/components/CalculationAmountWithoutVuex.vue?257b","webpack://test2/src/views/AboutView.vue","webpack://test2/./src/views/AboutView.vue?aa2a","webpack://test2/./src/views/AboutView.vue?296c"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"about\"},[_c('h1',[_vm._v(\"Бeз Vuex\")]),_c('CalculationAmountWithoutVuex')],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{},[_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.onSubmit.apply(null, arguments)}}},[_c('fieldset',{staticClass:\"from-container\"},[_c('label',{staticClass:\"field\"},[_c('input',{attrs:{\"type\":\"number\"},domProps:{\"value\":_vm.price},on:{\"input\":function($event){return _vm.debouncedInput($event.target.value, 'price', _vm.$options.INPUT_EVENT)}}}),_c('span',[_vm._v(\"Цена: \"+_vm._s(_vm.price))])]),_c('label',{staticClass:\"field\"},[_c('input',{attrs:{\"type\":\"number\"},domProps:{\"value\":_vm.qty},on:{\"input\":function($event){return _vm.debouncedInput($event.target.value, 'qty', _vm.$options.INPUT_EVENT)}}}),_c('span',[_vm._v(\"Кол-во: \"+_vm._s(_vm.qty))])]),_c('label',{staticClass:\"field\"},[_c('input',{attrs:{\"type\":\"number\"},domProps:{\"value\":_vm.amount},on:{\"input\":function($event){return _vm.debouncedInput($event.target.value, 'amount', _vm.$options.INPUT_EVENT)}}}),_c('span',[_vm._v(\"Сумма: \"+_vm._s(_vm.amount))])]),_c('div',{staticClass:\"form-footer\"},[_c('button',{attrs:{\"type\":\"submit\",\"disabled\":_vm.isSubmit}},[_vm._v(\"Отправить\")]),_c('span',[_vm._v(\"localStorage: \"+_vm._s(_vm.localStorageData))])]),_c('div',[_c('button',{attrs:{\"type\":\"button\"},on:{\"click\":_vm.resetForm}},[_vm._v(\"Очистить форму\")])])])]),_c('h2',[_vm._v(\"События:\")]),_c('button',{attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.events = []}}},[_vm._v(\"Очистить события\")]),_c('button',{attrs:{\"type\":\"button\"},on:{\"click\":_vm.clearLocalStorage}},[_vm._v(\"Очистить localStorage\")]),_c('div',{staticClass:\"description-event\"},[_vm._l((_vm.events),function(event){return [_c('div',{key:event.id},[_c('h5',[_vm._v(_vm._s(event.type))]),_c('p',[_vm._v(_vm._s(event.text))])])]})],2)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"\">\n    <form @submit.prevent=\"onSubmit\">\n      <fieldset class=\"from-container\">\n        <label class=\"field\">\n          <input\n            type=\"number\"\n            :value=\"price\"\n            @input=\"debouncedInput($event.target.value, 'price', $options.INPUT_EVENT)\"\n          />\n          <span>Цена: {{ price }}</span>\n        </label>\n        <label class=\"field\">\n          <input\n            type=\"number\"\n            :value=\"qty\"\n            @input=\"debouncedInput($event.target.value, 'qty', $options.INPUT_EVENT)\"\n          />\n          <span>Кол-во: {{ qty }}</span>\n        </label>\n        <label class=\"field\">\n          <input\n            type=\"number\"\n            :value=\"amount\"\n            @input=\"debouncedInput($event.target.value, 'amount', $options.INPUT_EVENT)\"\n          />\n          <span>Сумма: {{ amount }}</span>\n        </label>\n        <div class=\"form-footer\">\n          <button type=\"submit\" :disabled=\"isSubmit\">Отправить</button>\n          <span>localStorage: {{ localStorageData }}</span>\n        </div>\n        <div>\n          <button type=\"button\" @click=\"resetForm\">Очистить форму</button>\n        </div>\n      </fieldset>\n    </form>\n\n    <h2>События:</h2>\n    <button type=\"button\" @click=\"events = []\">Очистить события</button>\n    <button type=\"button\" @click=\"clearLocalStorage\">Очистить localStorage</button>\n\n    <div class=\"description-event\">\n      <template v-for=\"event in events\">\n        <div :key=\"event.id\">\n          <h5>{{ event.type }}</h5>\n          <p>{{ event.text }}</p>\n        </div>\n      </template>\n    </div>\n  </div>\n</template>\n\n<script>\nimport debounce from \"lodash.debounce\";\nimport {\n  INPUT_EVENT,\n  SUBMIT_EVENT,\n  RESPONSE_EVENT,\n  SUCCESS,\n  UNSUCCESS,\n  getDescriptionInputEvent,\n  getDescriptionSubmitEvent,\n  getDescriptionResponseEvent,\n} from \"@/shared/services/events\";\nimport { generateNumber } from \"@/shared/lib/common\";\nimport { loadStorageItem, saveStorageItem, removeStorageItem } from \"@/shared/services/storage\";\n\nconst getLocalStorageData = (name) => {\n  return loadStorageItem(name) || JSON.stringify({});\n};\n\nconst INPUTS_MAP = {\n  price: \"Цена\",\n  qty: \"Кол-во\",\n  amount: \"Сумма\",\n};\n\nexport default {\n  INPUT_EVENT,\n  name: \"CalculationAmountWithoutVuex\",\n  data() {\n    return {\n      price: \"\",\n      amount: \"\",\n      qty: null,\n      events: [],\n      localStorageData: {},\n    };\n  },\n  watch: {\n    qty: {\n      handler(newValue) {\n        if (this.price) {\n          this.amount = this.price * newValue;\n        }\n      },\n    },\n    price: {\n      handler(newValue) {\n        if (this.qty) {\n          this.amount = this.qty * newValue;\n        }\n      },\n    },\n    amount: {\n      handler(newValue) {\n        if (this.qty) {\n          this.price = newValue / this.qty;\n        }\n      },\n    },\n  },\n  computed: {\n    isSubmit() {\n      return !(this.price && this.amount && this.qty);\n    },\n  },\n  mounted() {\n    this.localStorageData = getLocalStorageData(\"payload\");\n  },\n  methods: {\n    clearLocalStorage() {\n      removeStorageItem(\"payload\");\n      this.localStorageData = getLocalStorageData(\"payload\");\n    },\n    resetForm() {\n      this.price = \"\";\n      this.qty = \"\";\n      this.amount = \"\";\n    },\n    addEvent(event) {\n      this.events = [event, ...this.events];\n    },\n    debouncedInput: debounce(function (value, eventName, type) {\n      this[eventName] = value;\n      const event = getDescriptionInputEvent({\n        name: INPUTS_MAP[eventName],\n        type,\n        value,\n      });\n      this.addEvent(event);\n    }, 300),\n    fetchData(data) {\n      return new Promise((resolve, reject) => {\n        setTimeout(() => {\n          const { price, qty, amount } = data;\n\n          if (amount % 2 === 0) {\n            saveStorageItem(\n              \"payload\",\n              JSON.stringify({\n                price,\n                qty,\n                amount,\n                nonce: generateNumber(),\n              })\n            );\n\n            this.localStorageData = getLocalStorageData(\"payload\");\n\n            resolve(SUCCESS);\n          } else {\n            reject(UNSUCCESS);\n          }\n        }, 1000);\n      });\n    },\n    onSubmit() {\n      const { price, qty, amount } = this;\n      const submitEvent = getDescriptionSubmitEvent({\n        type: SUBMIT_EVENT,\n        oldData: getLocalStorageData(\"payload\"),\n        newData: JSON.stringify({\n          price,\n          qty,\n          amount,\n        }),\n      });\n\n      this.addEvent(submitEvent);\n\n      if (price && qty && amount) {\n        this.fetchData({ price, qty, amount })\n          .then((response) => {\n            const event = getDescriptionResponseEvent({\n              type: RESPONSE_EVENT,\n              data: getLocalStorageData(\"payload\"),\n              response: JSON.stringify(response),\n            });\n\n            this.addEvent(event);\n          })\n          .catch((error) => {\n            const event = getDescriptionResponseEvent({\n              type: RESPONSE_EVENT,\n              data: getLocalStorageData(\"payload\"),\n              response: JSON.stringify(error),\n            });\n\n            this.addEvent(event);\n          });\n      }\n    },\n  },\n};\n</script>\n\n<style>\n.from-container {\n  display: flex;\n}\n\n.field {\n  display: flex;\n  flex-direction: column;\n}\n.description-event {\n  border: 1px solid red;\n}\n.form-footer {\n  display: flex;\n  flex-direction: column;\n}\n</style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CalculationAmountWithoutVuex.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CalculationAmountWithoutVuex.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CalculationAmountWithoutVuex.vue?vue&type=template&id=4e43e6f5&\"\nimport script from \"./CalculationAmountWithoutVuex.vue?vue&type=script&lang=js&\"\nexport * from \"./CalculationAmountWithoutVuex.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CalculationAmountWithoutVuex.vue?vue&type=style&index=0&id=4e43e6f5&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"about\">\n    <h1>Бeз Vuex</h1>\n    <CalculationAmountWithoutVuex />\n  </div>\n</template>\n\n<script>\nimport CalculationAmountWithoutVuex from \"@/components/CalculationAmountWithoutVuex.vue\";\n\nexport default {\n  name: \"AboutView\",\n  components: {\n    CalculationAmountWithoutVuex,\n  },\n};\n</script>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./AboutView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./AboutView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AboutView.vue?vue&type=template&id=e5ab7c82&\"\nimport script from \"./AboutView.vue?vue&type=script&lang=js&\"\nexport * from \"./AboutView.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","_v","staticRenderFns","on","$event","preventDefault","onSubmit","apply","arguments","attrs","domProps","price","debouncedInput","target","value","$options","INPUT_EVENT","_s","qty","amount","isSubmit","localStorageData","resetForm","events","clearLocalStorage","_l","event","key","id","type","text","getLocalStorageData","name","loadStorageItem","JSON","stringify","INPUTS_MAP","data","watch","handler","newValue","computed","mounted","methods","removeStorageItem","addEvent","debounce","eventName","getDescriptionInputEvent","fetchData","Promise","resolve","reject","setTimeout","saveStorageItem","nonce","generateNumber","SUCCESS","UNSUCCESS","submitEvent","getDescriptionSubmitEvent","SUBMIT_EVENT","oldData","newData","then","response","getDescriptionResponseEvent","RESPONSE_EVENT","catch","error","component","components","CalculationAmountWithoutVuex"],"sourceRoot":""}