"use strict";(self["webpackChunktest2"]=self["webpackChunktest2"]||[]).push([[443],{509:function(t,e,n){n.r(e),n.d(e,{default:function(){return q}});var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"about"},[e("h1",[t._v("Бeз Vuex")]),e("CalculationAmountWithoutVuex")],1)},o=[],i=function(){var t=this,e=t._self._c;return e("div",{},[e("form",{on:{submit:function(e){return e.preventDefault(),t.onSubmit.apply(null,arguments)}}},[e("fieldset",{staticClass:"from-container"},[e("label",{staticClass:"field"},[e("input",{attrs:{type:"number"},domProps:{value:t.price},on:{input:function(e){return t.debouncedInput(e.target.value,"price",t.$options.INPUT_EVENT)}}}),e("span",[t._v("Цена: "+t._s(t.price))])]),e("label",{staticClass:"field"},[e("input",{attrs:{type:"number"},domProps:{value:t.qty},on:{input:function(e){return t.debouncedInput(e.target.value,"qty",t.$options.INPUT_EVENT)}}}),e("span",[t._v("Кол-во: "+t._s(t.qty))])]),e("label",{staticClass:"field"},[e("input",{attrs:{type:"number"},domProps:{value:t.amount},on:{input:function(e){return t.debouncedInput(e.target.value,"amount",t.$options.INPUT_EVENT)}}}),e("span",[t._v("Сумма: "+t._s(t.amount))])]),e("div",{staticClass:"form-footer"},[e("button",{attrs:{type:"submit",disabled:t.isSubmit}},[t._v("Отправить")]),e("span",[t._v("localStorage: "+t._s(t.localStorageData))])]),e("div",[e("button",{attrs:{type:"button"},on:{click:t.resetForm}},[t._v("Очистить форму")])])])]),e("h2",[t._v("События:")]),e("button",{attrs:{type:"button"},on:{click:function(e){t.events=[]}}},[t._v("Очистить события")]),e("button",{attrs:{type:"button"},on:{click:t.clearLocalStorage}},[t._v("Очистить localStorage")]),e("div",{staticClass:"description-event"},[t._l(t.events,(function(n){return[e("div",{key:n.id},[e("h5",[t._v(t._s(n.type))]),e("p",[t._v(t._s(n.text))])])]}))],2)])},s=[],u=n(2773),r=n.n(u),l=n(6471),c=n(7110),p=n(9757);const d=t=>(0,p._f)(t)||JSON.stringify({}),h={price:"Цена",qty:"Кол-во",amount:"Сумма"};var m={INPUT_EVENT:l.e_,name:"CalculationAmountWithoutVuex",data(){return{price:"",amount:"",qty:null,events:[],localStorageData:{}}},watch:{qty:{handler(t){this.price&&(this.amount=this.price*t)}},price:{handler(t){this.qty&&(this.amount=this.qty*t)}},amount:{handler(t){this.qty&&(this.price=t/this.qty)}}},computed:{isSubmit(){return!(this.price&&this.amount&&this.qty)}},mounted(){this.localStorageData=d("payload")},methods:{clearLocalStorage(){(0,p.L_)("payload"),this.localStorageData=d("payload")},resetForm(){this.price="",this.qty="",this.amount=""},addEvent(t){this.events=[t,...this.events]},debouncedInput:r()((function(t,e,n){this[e]=t;const a=(0,l.Uo)({name:h[e],type:n,value:t});this.addEvent(a)}),300),fetchData(t){return new Promise(((e,n)=>{setTimeout((()=>{const{price:a,qty:o,amount:i}=t;i%2===0?((0,p.t$)("payload",JSON.stringify({price:a,qty:o,amount:i,nonce:(0,c.x)()})),this.localStorageData=d("payload"),e(l.MR)):n(l.cV)}),1e3)}))},onSubmit(){const{price:t,qty:e,amount:n}=this,a=(0,l.n$)({type:l.OT,oldData:d("payload"),newData:JSON.stringify({price:t,qty:e,amount:n})});this.addEvent(a),t&&e&&n&&this.fetchData({price:t,qty:e,amount:n}).then((t=>{const e=(0,l.NX)({type:l.j8,data:d("payload"),response:JSON.stringify(t)});this.addEvent(e)})).catch((t=>{const e=(0,l.NX)({type:l.j8,data:d("payload"),response:JSON.stringify(t)});this.addEvent(e)}))}}},y=m,v=n(1001),f=(0,v.Z)(y,i,s,!1,null,null,null),_=f.exports,b={name:"AboutView",components:{CalculationAmountWithoutVuex:_}},S=b,g=(0,v.Z)(S,a,o,!1,null,null,null),q=g.exports}}]);
//# sourceMappingURL=about.3a5c5979.js.map